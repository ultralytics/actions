# Ultralytics ðŸš€ AGPL-3.0 License - https://ultralytics.com/license

# Ultralytics Actions https://github.com/ultralytics/actions
# This workflow automatically formats code and documentation in PRs to official Ultralytics standards

name: Ultralytics Actions

on:
  issues:
    types: [opened]
  pull_request:
    branches: [main]
    types: [opened, closed, synchronize, review_requested]

permissions:
  contents: write # Allows modifying code in PRs
  pull-requests: write # Allows adding comments and labels to PRs
  issues: write # Allows adding comments and labels to issues

jobs:
  format:
    runs-on: ubuntu-latest # Use 'macos-latest' if 'swift: true'
    steps:
      - name: Run Ultralytics Formatting
        uses: ultralytics/actions@main
        with:
          token: ${{ secrets._GITHUB_TOKEN || secrets.GITHUB_TOKEN }} # Auto-generated tokens
          labels: true # Add labels to issues/PRs (needs 'openai_api_key')
          python: true # Format Python with Ruff and docformatter
          prettier: true # Format YAML, JSON, Markdown, CSS
          swift: false # Format Swift (requires macos-latest)
          spelling: true # Check spelling with codespell
          links: true # Check broken links with Lychee
          summary: true # Generate PR summary (needs 'openai_api_key')
          openai_api_key: ${{ secrets.OPENAI_API_KEY }} # Add as repo secret
          brave_api_key: ${{ secrets.BRAVE_API_KEY }} # Add as repo secret
